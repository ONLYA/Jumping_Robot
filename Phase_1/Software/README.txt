Software Main Flowchart & Descriptions

###############################################################################################
                      Connection  Diagram

                   State Select      LED
                     P1.0(2)       P1.7(15)
                        +             +
                        |             |
                     +--+-------------+--+
               +-GND-+        +--+       +-Vcc-+
                     |                   |
                     |                   |
           +- SOMI --+P1.1(3)        (16)+-- ~RST -+
                     |                   |
           +- SIMO --+P1.2(4)            |
                     |                   |
           +- SCLK --+P1.4(6)            |
                     |                   |
           +- CS ----+P1.5(7)            |
                     |                   |
                     |                   |
+--------- SENSORA --+P1.3(5)    P1.6(14)+-- SENSORB ---------+
|                    |                   |                    |
|  +-----+ PWMA -----+P2.1(9)    P2.5(13)+----- PWMB +-----+  |
|  |                 |                   |                 |  |
|  | +---+ A1 -------+P2.2(10)   P2.4(12)+------- B1 +---+ |  |
|  | |               |                   |               | |  |
|  | | +-+ A2 -------+P2.0(8)    P2.3(11)+------- B2 +-+ | |  |
|  | | |             |                   |             | | |  |
|  | | |             |  MSP430G2553IN20  |             | | |  |
|  | | |             |                   |             | | |  |
|  | | |             +-------------------+             | | |  |
|  | | |                                               | | |  |
| ++-+-+-----------------------------------------------+-+-++ |
| |                                                         | |
| |                                                         | |
| |                                                         | |
| |                                                         | |
| +---------------------------------------------------------+ |
|                                                             |
|  +----+                                             +----+  |
|  |    |Optical Encoder               Optical Encoder|    |  |
+--+    |A                                           B|    +--+
   +----+                                             +----+

###############################################################################################

                 MANUAL CONTROLLER MODE (SS<=0)
+--------+                                             +-------+
|        |                                             |       |
|        +---- 1. Keep sending requst ----------------->       |
| MASTER |                                             | SLAVE |
|        <---- 2. Reply -------------------------------+       |
|        |                                             |       |
|        |                                             |       |
|        +---- 3. X-DATA ------------------------------>       |
|        |                                             |       |
|        <---- 4. Reply for request of Y-DATA ---------+       |
|        |                                             |       |
|        |                                             |       |
|        +---- 5. Y-DATA ------------------------------>       |
|        |                                             |       |
|        <---- 6. Finish ------------------------------+       |
|        |                                             |       |
+--------+                                             +-------+

###############################################################################################

                 AUTOMATIC CTRLLER MODE (SS<=1)
+--------+                                             +-------+
|        |                                             |       |
|        +---- 1. Keep sending requst ----------------->       |
| MASTER |                                             | SLAVE |
|        <---- 2. Reply -------------------------------+       |
|        |                                             |       |
|        |                                             |       |
|        +---- 3. Distance ---------------------------->       |
|        |                                             |       |
|        <---- 4. Reply for request of Angle 0 --------+       |
|        |                                             |       |
|        |                                             |       |
|        +---- 5. Angle 0 ----------------------------->       |
|        |                                             |       |
|        <---- 6. Reply for request of Angle 1 --------+       |
|        |                                             |       |
|        |                                             |       |
|        +---- 7. Angle 1 ----------------------------->       |
|        |                                             |       |
|        <---- 9. FINISH REPLY <= 8. Execute ----------+       |
|        |                                             |       |
+--------+                                             +-------+

                                                         <-DIR=0--   --DIR=1->
         +--+--+--+--+--+--+--+--+                	   \	   |
Distance |  |  |  |  |  |  |  |  |                	    \	  %|%
         +-----------------------+                           \%%   |    %%%
         +-----------------------+                      %%%   \    |         %%%
Angle 0  |    8bit Angle MSB     |                	       \ θ |
         +-----------------------+                  %%%         \  |             %%%
         +--------------------+--+                	         \ |
Angle 1  |   7bit Angle LSB   |  |                 %%%            \|               %%%
         +--------------------+-^+                  	    	   \
                          +-----+---+              %%%             |\              %%%
                          |Direction|             		   | \
                          +---------+              %%%             |  \           %%%
                                                  		   r   \
                                                      %%%          |    \      %%%
                                                  		   |     \
                                                            %%%    |    %%\
                                                  		  %|%	   \
                                                  		   |  d=rθ  \
###############################################################################################